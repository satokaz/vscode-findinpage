/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
"use strict";

function styleBody(e) {
    e && (e.classList.remove("vscode-light", "vscode-dark", "vscode-high-contrast"), e.classList.add(initData.activeTheme))
}

function getTarget() {
    return document.getElementById("_target")
}
var initData = {};
const ipcRenderer = require("electron").ipcRenderer;
document.addEventListener("DOMContentLoaded", function (e) {
    ipcRenderer.on("baseUrl", function (e, t) {
        initData.baseUrl = t
    }), ipcRenderer.on("styles", function (e, t, n) {
        initData.styles = t, initData.activeTheme = n;
        var o = document.getElementById("_defaultStyles");
        o.innerHTML = initData.styles;
        var a = getTarget().contentDocument.getElementsByTagName("body");
        styleBody(a[0]), o = getTarget().contentDocument.getElementById("_defaultStyles"), o && (o.innerHTML = initData.styles)
    }), ipcRenderer.on("focus", function () {
        getTarget().contentWindow.focus()
    }), ipcRenderer.on("content", function (e, t) {
        const n = t.join("\n"),
            o = (new DOMParser).parseFromString(n, "text/html"),
            a = {
                scriptTags: o.documentElement.querySelectorAll("script").length,
                inputTags: o.documentElement.querySelectorAll("input").length,
                styleTags: o.documentElement.querySelectorAll("style").length,
                linkStyleSheetTags: o.documentElement.querySelectorAll("link[rel=stylesheet]").length,
                stringLen: n.length
            };
        if (initData.baseUrl && 0 === o.head.getElementsByTagName("base").length) {
            const r = document.createElement("base");
            r.href = initData.baseUrl, o.head.appendChild(r)
        }
        const l = o.createElement("style");
        l.id = "_defaultStyles", l.innerHTML = initData.styles, o.head.hasChildNodes() ? o.head.insertBefore(l, o.head.firstChild) : o.head.appendChild(l);
        const d = o.createElement("script");
        d.innerHTML = ['document.body.addEventListener("click", function(event) {', "\tlet node = event.target;", "\twhile (node) {", '\t\tif (node.tagName === "A" && node.href) {', '\t\t\tlet baseElement = window.document.getElementsByTagName("base")[0];', "\t\t\tif (baseElement && node.href.indexOf(baseElement.href) >= 0 && node.hash) {", "\t\t\t\tlet scrollTarget = window.document.getElementById(node.hash.substr(1, node.hash.length - 1));", "\t\t\t\tif (scrollTarget) {", "\t\t\t\t\tscrollTarget.scrollIntoView();", "\t\t\t\t}", "\t\t\t} else {", '\t\t\t\twindow.parent.postMessage({ command: "did-click-link", data: node.href }, "file://");', "\t\t\t}", "\t\t\tevent.preventDefault();", "\t\t\tbreak;", "\t\t}", "\t\tnode = node.parentNode;", "\t}", "});"].join("\n"), o.body.appendChild(d), styleBody(o.body);
        const s = getTarget().contentDocument.body.scrollTop;
        getTarget().contentDocument.open("text/html", "replace"), getTarget().contentDocument.write("<!DOCTYPE html>"), getTarget().contentDocument.write(`<body><!--find6.js-->
<script type="text/javascript" id="cool_find_script">
var coolfind={lock_button:1,find_root_node:null,test_mode:!1,find_button_html:"",highlights:[],find_pointer:-1,find_text:"",found_highlight_rule:0,found_selected_rule:0};coolfind.create_find_div=function(){var e=document.createElement("div"),n=document.getElementById("cool_find_script"),o="",i="display: inline-block; vertical-align: middle; z-index:200;",t="display: inline-block;  min-height: 1.15em; min-width: 1.5em; max-width: 3em; vertical-align: middle; text-align: center; font-size: 1em;border: 1px solid black; background: lightgray; cursor: pointer; padding: 1px; margin: 4px; -webkit-user-select:none; -ms-user-select: none;",l="background-color: #e5e5e5; display: none;",d="display: inline; max-width: 55%;";coolfind.lock_button&&(l+="float: left;"),coolfind.addCss(".cool_find_btn {"+t+"}"),coolfind.addCss(".cool_find_menu {"+l+"}"),coolfind.addCss(".cool_find_input {"+d+"}"),"undefined"==typeof SVGRect?coolfind.find_button_html="Find":coolfind.find_button_html='<svg width="1.15em" height="1.15em" viewbox="0 0 30 30"><circle cx="18" cy="12" r="8" stroke="black" stroke-width="2" fill="#fff" fill-opacity="0.4" /><line x1="13" y1="17" x2="0" y2="30" stroke="black" stroke-width="2" /><line x1="10" y1="20" x2="0" y2="30" stroke="black" stroke-width="4" /></svg>',e.id="cool_find_div",e.style.cssText=i,o+="<button class='cool_find_btn' id='cool_find_btn' title='Find on this page' onclick='coolfind.find_menu(this)'>"+coolfind.find_button_html+"</button> ",coolfind.lock_button&&(e.style.position="fixed",e.style.bottom="3em",e.style.right="1em"),n.parentNode.insertBefore(e,n.nextSibling),o+="<span class='cool_find_menu' id='cool_find_menu'>"+'<form onsubmit="return false;" style="display: inline"><input type="search" class="cool_find_input" id="cool_find_text" onchange="coolfind.resettext();" placeholder="Enter text to find"><span id="cool_find_msg"> </span></form>',o+="<button class='cool_find_btn' title='Find Previous' onclick='coolfind.findprev();'>&#9650;</button><button class='cool_find_btn' id='cool_find_next' title='Find Next' onclick='coolfind.findit();'>&#9660;</button> ",o+="</span>",e.innerHTML=o;for(var c=document.styleSheets,f=0;f<c.length;f++){var r=c[f].rules?c[f].rules:c[f].cssRules;if(null!=r)for(var s=0;s<r.length;s++)".highlight"==r[s].selectorText?coolfind.found_highlight_rule=1:".find_selected"==r[s].selectorText&&(coolfind.found_selected_rule=1)}},coolfind.find_menu=function(e){var n=document.getElementById("cool_find_text");"inline-block"!=e.nextElementSibling.style.display?(e.nextElementSibling.style.display="inline-block",e.innerHTML="X",e.title="Close",document.addEventListener?document.addEventListener("keydown",coolfind.checkkey,!1):document.attachEvent("onkeydown",coolfind.checkkey),n.focus(),n.select(),n.setSelectionRange(0,9999)):(e.nextElementSibling.style.display="none",e.innerHTML=coolfind.find_button_html,e.title="Find on this page",coolfind.unhighlight(),document.removeEventListener?document.removeEventListener("keydown",coolfind.checkkey,!1):document.detachEvent("onkeydown",coolfind.checkkey))},coolfind.addCss=function(e){var n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(n)},coolfind.highlight=function(e,n){for(n||(n=document.body),n=n.firstChild;n;n=n.nextSibling)if(3==n.nodeType){var o=n,i=0;if(i=o.nodeValue.toLowerCase().indexOf(e.toLowerCase()),i>-1){var t=o.nodeValue.substr(0,i),l=o.nodeValue.substr(i,e.length),d=document.createTextNode(o.nodeValue.substr(i+e.length)),c=document.createElement("span");1==coolfind.found_highlight_rule?c.className="highlight":c.style.backgroundColor="yellow",c.appendChild(document.createTextNode(l)),o.nodeValue=t,o.parentNode.insertBefore(d,o.nextSibling),o.parentNode.insertBefore(c,o.nextSibling),coolfind.highlights.push(c),c.id="highlight_span"+coolfind.highlights.length,n=n.nextSibling}}else 1==n.nodeType&&n.nodeName.match(/textarea/i)&&!coolfind.getStyle(n,"display").match(/none/i)?coolfind.textarea2pre(n):1!=n.nodeType||coolfind.getStyle(n,"visibility").match(/hidden/i)||1!=n.nodeType||coolfind.getStyle(n,"display").match(/none/i)||coolfind.highlight(e,n)},coolfind.unhighlight=function(){for(var e=0;e<coolfind.highlights.length;e++){var n=coolfind.highlights[e].firstChild,o=coolfind.highlights[e].parentNode;coolfind.highlights[e].parentNode&&(coolfind.highlights[e].parentNode.replaceChild(n,coolfind.highlights[e]),e==coolfind.find_pointer&&coolfind.selectElementContents(n),o.normalize(),coolfind.normalize(o))}coolfind.highlights=[],coolfind.find_pointer=-1},coolfind.normalize=function(e){if(e){if(3==e.nodeType)for(;e.nextSibling&&3==e.nextSibling.nodeType;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);else coolfind.normalize(e.firstChild);coolfind.normalize(e.nextSibling)}},coolfind.findit=function(){var e=document.getElementById("cool_find_msg"),n=document.getElementById("cool_find_menu"),o=document.getElementById("cool_find_text").value;if(n.style.visibility="hidden",coolfind.find_text.toLowerCase()==document.getElementById("cool_find_text").value.toLowerCase()&&coolfind.find_pointer>=0)coolfind.findnext();else{if(coolfind.unhighlight(),""==o)return e.innerHTML="",void(n.style.visibility="visible");if(coolfind.find_text=o,null!=coolfind.find_root_node)var i=document.getElementById(coolfind.find_root_node);else var i=null;coolfind.highlight(o,i),coolfind.highlights.length>0?(coolfind.find_pointer=-1,coolfind.findnext()):(e.innerHTML="&nbsp;<b>0 of 0</b>",coolfind.find_pointer=-1)}n.style.visibility="visible"},coolfind.findnext=function(){var e;coolfind.find_pointer!=-1&&(e=coolfind.highlights[coolfind.find_pointer],1==coolfind.found_highlight_rule?e.className="highlight":e.style.backgroundColor="yellow"),coolfind.find_pointer++,coolfind.find_pointer>=coolfind.highlights.length&&(coolfind.find_pointer=0);var n=coolfind.find_pointer+1;cool_find_msg.innerHTML=n+" of "+coolfind.highlights.length,e=coolfind.highlights[coolfind.find_pointer],1==coolfind.found_selected_rule?e.className="find_selected":e.style.backgroundColor="orange",coolfind.scrollToPosition(coolfind.highlights[coolfind.find_pointer])},coolfind.findprev=function(){var e,n=document.getElementById("cool_find_msg");if(!(coolfind.highlights.length<1)){coolfind.find_pointer!=-1&&(e=coolfind.highlights[coolfind.find_pointer],1==coolfind.found_highlight_rule?e.className="highlight":e.style.backgroundColor="yellow"),coolfind.find_pointer--,coolfind.find_pointer<0&&(coolfind.find_pointer=coolfind.highlights.length-1);var o=coolfind.find_pointer+1;n.innerHTML=o+" of "+coolfind.highlights.length,e=coolfind.highlights[coolfind.find_pointer],1==coolfind.found_selected_rule?e.className="find_selected":e.style.backgroundColor="orange",coolfind.scrollToPosition(coolfind.highlights[coolfind.find_pointer])}},coolfind.checkkey=function(e){var n;n=window.event?window.event.keyCode:e.which,13==n?(window.event&&event.srcElement.id.match(/cool_find_text/i)?(event.srcElement.blur(),document.getElementById("cool_find_next").focus()):e&&e.target.id.match(/cool_find_text/i)&&(e.target.blur(),document.getElementById("cool_find_next").focus()),"cool_find_btn"!=document.activeElement.className&&coolfind.findit()):27==n&&coolfind.find_menu(document.getElementById("cool_find_btn"))},coolfind.resettext=function(){coolfind.find_text.toLowerCase()!=document.getElementById("cool_find_text").value.toLowerCase()&&coolfind.unhighlight()},coolfind.scrollToPosition=function(e){var n=document.body.scrollLeft||document.documentElement.scrollLeft,o=document.body.scrollTop||document.documentElement.scrollTop,i=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)+o,t=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)+n;if(e){var l=e,d=l.offsetLeft,c=l.offsetTop;for(l=l.offsetParent;null!=l;)d+=l.offsetLeft,c+=l.offsetTop,l=l.offsetParent;(d<n||d>t||c<o||c>i)&&e.scrollIntoView()}},coolfind.getStyle=function(e,n){var o=document.getElementById(e)?document.getElementById(e):e;if(o.currentStyle)var i=o.currentStyle[n];else if(window.getComputedStyle)var i=document.defaultView.getComputedStyle(o,null).getPropertyValue(n);return i},coolfind.textarea2pre=function(e){if(e.nextSibling&&e.nextSibling.id&&e.nextSibling.id.match(/pre_/i))var n=e.nextsibling;else var n=document.createElement("pre");var o=e.value;o=o.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;"),n.innerHTML=o;var i="";if(e.currentStyle){var t=e.currentStyle;for(var l in t)i+=l+":"+t[l]+";";n.style.border="1px solid black"}else i=window.getComputedStyle(e,null).cssText,n.style.cssText=i;e.parentNode.insertBefore(n,e.nextSibling),e.onblur=function(){this.style.display="none",n.style.display="block"},e.onchange=function(){n.innerHTML=e.value.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},e.style.display="none",n.id="pre_"+coolfind.highlights.length,n.onclick=function(){this.style.display="none",e.style.display="block",e.focus(),e.click()}},coolfind.selectElementContents=function(e){if(window.getSelection&&document.createRange){var n=document.createRange();n.selectNodeContents(e);var o=window.getSelection();o.removeAllRanges(),o.addRange(n)}else if(document.body.createTextRange){var i=document.body.createTextRange();i.moveToElementText(e),i.select()}},coolfind.create_find_div();
</script></body>`), getTarget().contentDocument.write(o.documentElement.innerHTML), getTarget().contentDocument.close(), setTimeout(function () {
            s !== getTarget().contentDocument.body.scrollTop && (getTarget().contentDocument.body.scrollTop = s)
        }, 0), ipcRenderer.sendToHost("did-set-content", a)
    }), window.onmessage = function (e) {
        ipcRenderer.sendToHost(e.data.command, e.data.data)
    }, ipcRenderer.sendToHost("webview-ready", process.pid)
});
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/d384271ffb5655cee1ddf8f93f51cd892ee2cc40/core/vs/workbench/parts/html/browser/webview-pre.js.map